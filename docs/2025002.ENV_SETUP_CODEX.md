# CCF2P í†µí•© í™˜ê²½ì„¤ì • ìŠ¤í¬ë¦½íŠ¸ (ì½”ë±ìŠ¤)

ì´ ë¬¸ì„œëŠ” Casino-Club F2P í”„ë¡œì íŠ¸ì˜ í™˜ê²½ì„¤ì • ìë™í™” ë° ìš´ì˜ íš¨ìœ¨í™”ë¥¼ ìœ„í•œ í†µí•© ìŠ¤í¬ë¦½íŠ¸ ì˜ˆì‹œì™€ ì‹¤ì „ ìš´ì˜ íŒì„ ì œê³µí•©ë‹ˆë‹¤.

---

## 1. í†µí•© í™˜ê²½ì„¤ì • ìŠ¤í¬ë¦½íŠ¸ (ìµœì‹ )

```bash
#!/usr/bin/env bash
# filepath: run.sh
# Casino-Club F2P í”„ë¡œì íŠ¸ í™˜ê²½ ì„¤ì •

set -e

echo "ğŸ° Casino-Club F2P í™˜ê²½ ì„¤ì • ì‹œì‘..."

WORKDIR="${WORKDIR:-$(pwd)}"
cd "$WORKDIR"

# === ë°±ì—”ë“œ í™˜ê²½ ì„¤ì • ===
echo "ğŸ”§ ë°±ì—”ë“œ í™˜ê²½ ì„¤ì •..."
cd "$WORKDIR/cc-webapp/backend"

if [ ! -d "venv" ]; then
    python3 -m venv venv || python -m venv venv
fi

source venv/bin/activate
pip install --upgrade pip

if [ -f "requirements.txt" ]; then
    pip install -r requirements.txt
else
    pip install fastapi uvicorn sqlalchemy aiosqlite pytest pytest-asyncio pydantic python-multipart python-jose[cryptography] passlib[bcrypt]
fi

if [ ! -f ".env" ]; then
cat > .env << EOF
DATABASE_URL=sqlite:///./app.db
API_HOST=0.0.0.0
API_PORT=8000
SECRET_KEY=casino-club-f2p-secret-key-2025
CORS_ORIGINS=["http://localhost:3000"]
EOF
fi

# === í”„ë¡ íŠ¸ì—”ë“œ í™˜ê²½ ì„¤ì • ===
echo "ğŸ¨ í”„ë¡ íŠ¸ì—”ë“œ í™˜ê²½ ì„¤ì •..."
cd "$WORKDIR/cc-webapp-frontend"

if [ ! -f "package.json" ]; then
cat > package.json << 'EOF'
{
  "name": "cc-webapp-frontend",
  "scripts": { "start": "vite --port 3000 --host 0.0.0.0" },
  "dependencies": {
    "react": "^18.2.0",
    "react-dom": "^18.2.0",
    "@mui/material": "^5.15.11",
    "axios": "^1.6.8",
    "react-redux": "^9.1.0",
    "@reduxjs/toolkit": "^2.2.0"
  },

  }
}
EOF
npm install
else
    if ! grep -q "react-redux" package.json; then
        npm install react-redux @reduxjs/toolkit
    fi
fi

if [ ! -f "vite.config.js" ]; then
cat > vite.config.js << 'EOF'
import { defineConfig } from 'vite'
import react from '@vitejs/plugin-react'

export default defineConfig({
  plugins: [react()],
  server: {
    port: 3000,
    host: '0.0.0.0',
    proxy: {
      '/api': {
        target: 'http://localhost:8000',
        changeOrigin: true,
        rewrite: (path) => path.replace(/^\/api/, '')
      }
    }
  }
})
EOF
fi

mkdir -p src

if [ ! -f "index.html" ]; then
cat > index.html << 'EOF'
<!DOCTYPE html>
<html lang="ko">
<head>
  <meta charset="UTF-8" />
  <meta name="viewport" content="width=device-width, initial-scale=1.0" />
  <title>Casino Club F2P</title>
</head>
<body>
  <div id="root"></div>
  <script type="module" src="/src/main.jsx"></script>
</body>
</html>
EOF
fi

if [ ! -f "src/main.jsx" ]; then
cat > src/main.jsx << 'EOF'
import React from 'react'
import ReactDOM from 'react-dom/client'
import App from './App.jsx'

ReactDOM.createRoot(document.getElementById('root')).render(
  <React.StrictMode>
    <App />
  </React.StrictMode>,
)
EOF
fi

if [ ! -f "src/App.jsx" ]; then
cat > src/App.jsx << 'EOF'
import React from 'react'
import { ThemeProvider, createTheme } from '@mui/material/styles'
import { CssBaseline, Container, Typography, Paper, Box } from '@mui/material'

const darkTheme = createTheme({
  palette: { mode: 'dark' },
})

function App() {
  return (
    <ThemeProvider theme={darkTheme}>
      <CssBaseline />
      <Container maxWidth="lg">
        <Box sx={{ my: 4 }}>
          <Paper elevation={3} sx={{ p: 4, textAlign: 'center' }}>
            <Typography variant="h2" component="h1" gutterBottom>
              ğŸ° Casino Club F2P
            </Typography>
            <Typography variant="body1">
              í™˜ê²½ ì„¤ì • ì™„ë£Œ! ğŸš€
            </Typography>
          </Paper>
        </Box>
      </Container>
    </ThemeProvider>
  )
}

export default App
EOF
fi

# === ì„œë²„ ì‹œì‘ ===
echo "ğŸš€ ì„œë²„ ì‹œì‘..."

cd "$WORKDIR/cc-webapp/backend"
source venv/bin/activate
uvicorn app.main:app --host 0.0.0.0 --port 8000 --reload &
BACKEND_PID=$!

cd "$WORKDIR/cc-webapp-frontend"
npm start &
FRONTEND_PID=$!

echo "âœ… í™˜ê²½ ì„¤ì • ì™„ë£Œ!"
echo "ğŸ“± í”„ë¡ íŠ¸ì—”ë“œ: http://localhost:3000"
echo "ğŸ”§ ë°±ì—”ë“œ: http://localhost:8000"

# ê³„ì† ì‹¤í–‰ ìƒíƒœ ìœ ì§€
wait
```

---

## 2. ì‹¤ì „ ìš´ì˜/ìë™í™” íŒ

- ìŠ¤í¬ë¦½íŠ¸ëŠ” ìš´ì˜/ê°œë°œ í™˜ê²½ ë¶„ë¦¬, .env ìë™ ìƒì„±, requirements.txt/Docker Compose ë“± í‘œì¤€í™”
- ì¥ì•  ë°œìƒì‹œ í™˜ê²½ì„¤ì • ìŠ¤í¬ë¦½íŠ¸ë¡œ ì‹ ì† ë³µêµ¬ ê°€ëŠ¥
- CI/CD íŒŒì´í”„ë¼ì¸ì— í†µí•© ê¶Œì¥

---

> ë³¸ ë¬¸ì„œëŠ” ì‹¤ì œ ìš´ì˜ ê²½í—˜ì„ ë°”íƒ•ìœ¼ë¡œ ì‘ì„±ë˜ì—ˆìŠµë‹ˆë‹¤. ì¶”ê°€ ìë™í™”/ìš´ì˜ íŒì´ í•„ìš”í•˜ë©´ ì–¸ì œë“  ìš”ì²­í•˜ì„¸ìš”.
