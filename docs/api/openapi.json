{"openapi":"3.1.0","info":{"title":"Casino Club API","description":"API for interactive mini-games and token-based reward system","version":"0.1.0"},"paths":{"/api/auth/test":{"get":{"tags":["auth"],"summary":"Test Auth","description":"테스트 엔드포인트","operationId":"test_auth_api_auth_test_get","responses":{"200":{"description":"Successful Response","content":{"application/json":{"schema":{}}}}}}},"/api/auth/health":{"get":{"tags":["auth"],"summary":"Auth Health","description":"인증 헬스체크","operationId":"auth_health_api_auth_health_get","responses":{"200":{"description":"Successful Response","content":{"application/json":{"schema":{}}}}}}},"/kafka/send":{"post":{"tags":["kafka","messaging"],"summary":"Send Message","description":"Kafka 토픽으로 메시지 전송\n\nArgs:\n    topic: 대상 토픽 이름\n    message: 전송할 메시지 데이터","operationId":"send_message_kafka_send_post","parameters":[{"name":"topic","in":"query","required":true,"schema":{"type":"string","title":"Topic"}}],"requestBody":{"required":true,"content":{"application/json":{"schema":{"type":"object","title":"Message"}}}},"responses":{"200":{"description":"Successful Response","content":{"application/json":{"schema":{}}}},"422":{"description":"Validation Error","content":{"application/json":{"schema":{"$ref":"#/components/schemas/HTTPValidationError"}}}}}}},"/kafka/consume/{topic}":{"get":{"tags":["kafka","messaging"],"summary":"Consume Messages","description":"Kafka 토픽에서 메시지 소비\n\nArgs:\n    topic: 소비할 토픽 이름\n    max_messages: 최대 메시지 수","operationId":"consume_messages_kafka_consume__topic__get","parameters":[{"name":"topic","in":"path","required":true,"schema":{"type":"string","title":"Topic"}},{"name":"max_messages","in":"query","required":false,"schema":{"type":"integer","default":10,"title":"Max Messages"}}],"responses":{"200":{"description":"Successful Response","content":{"application/json":{"schema":{}}}},"422":{"description":"Validation Error","content":{"application/json":{"schema":{"$ref":"#/components/schemas/HTTPValidationError"}}}}}}},"/kafka/status":{"get":{"tags":["kafka","messaging"],"summary":"Kafka Status","description":"Kafka 연결 상태 확인","operationId":"kafka_status_kafka_status_get","responses":{"200":{"description":"Successful Response","content":{"application/json":{"schema":{}}}}}}},"/kafka/user-action":{"post":{"tags":["kafka","messaging"],"summary":"Send User Action","description":"사용자 액션 이벤트 전송\n\nArgs:\n    user_id: 사용자 ID\n    action: 액션 타입 (GACHA_PULL, SLOT_SPIN, etc.)\n    data: 액션 데이터","operationId":"send_user_action_kafka_user_action_post","parameters":[{"name":"user_id","in":"query","required":true,"schema":{"type":"integer","title":"User Id"}},{"name":"action","in":"query","required":true,"schema":{"type":"string","title":"Action"}}],"requestBody":{"required":true,"content":{"application/json":{"schema":{"type":"object","title":"Data"}}}},"responses":{"200":{"description":"Successful Response","content":{"application/json":{"schema":{}}}},"422":{"description":"Validation Error","content":{"application/json":{"schema":{"$ref":"#/components/schemas/HTTPValidationError"}}}}}}},"/kafka/game-event":{"post":{"tags":["kafka","messaging"],"summary":"Send Game Event","description":"게임 이벤트 전송\n\nArgs:\n    game_type: 게임 타입 (gacha, slot, roulette, etc.)\n    event_type: 이벤트 타입 (start, end, win, lose, etc.)\n    data: 이벤트 데이터","operationId":"send_game_event_kafka_game_event_post","parameters":[{"name":"game_type","in":"query","required":true,"schema":{"type":"string","title":"Game Type"}},{"name":"event_type","in":"query","required":true,"schema":{"type":"string","title":"Event Type"}}],"requestBody":{"required":true,"content":{"application/json":{"schema":{"type":"object","title":"Data"}}}},"responses":{"200":{"description":"Successful Response","content":{"application/json":{"schema":{}}}},"422":{"description":"Validation Error","content":{"application/json":{"schema":{"$ref":"#/components/schemas/HTTPValidationError"}}}}}}},"/kafka/reward-event":{"post":{"tags":["kafka","messaging"],"summary":"Send Reward Event","description":"리워드 이벤트 전송\n\nArgs:\n    user_id: 사용자 ID\n    reward_type: 리워드 타입 (tokens, gems, items, etc.)\n    amount: 리워드 수량\n    data: 추가 데이터","operationId":"send_reward_event_kafka_reward_event_post","parameters":[{"name":"user_id","in":"query","required":true,"schema":{"type":"integer","title":"User Id"}},{"name":"reward_type","in":"query","required":true,"schema":{"type":"string","title":"Reward Type"}},{"name":"amount","in":"query","required":true,"schema":{"type":"number","title":"Amount"}}],"requestBody":{"content":{"application/json":{"schema":{"anyOf":[{"type":"object"},{"type":"null"}],"title":"Data"}}}},"responses":{"200":{"description":"Successful Response","content":{"application/json":{"schema":{}}}},"422":{"description":"Validation Error","content":{"application/json":{"schema":{"$ref":"#/components/schemas/HTTPValidationError"}}}}}}},"/kafka/messages/sent":{"get":{"tags":["kafka","messaging"],"summary":"Get Sent Messages","description":"전송된 메시지 목록 조회 (디버깅용)","operationId":"get_sent_messages_kafka_messages_sent_get","parameters":[{"name":"limit","in":"query","required":false,"schema":{"type":"integer","default":50,"title":"Limit"}}],"responses":{"200":{"description":"Successful Response","content":{"application/json":{"schema":{}}}},"422":{"description":"Validation Error","content":{"application/json":{"schema":{"$ref":"#/components/schemas/HTTPValidationError"}}}}}}},"/kafka/messages/consumed":{"get":{"tags":["kafka","messaging"],"summary":"Get Consumed Messages","description":"소비된 메시지 목록 조회 (디버깅용)","operationId":"get_consumed_messages_kafka_messages_consumed_get","parameters":[{"name":"limit","in":"query","required":false,"schema":{"type":"integer","default":50,"title":"Limit"}}],"responses":{"200":{"description":"Successful Response","content":{"application/json":{"schema":{}}}},"422":{"description":"Validation Error","content":{"application/json":{"schema":{"$ref":"#/components/schemas/HTTPValidationError"}}}}}}},"/kafka/messages/clear":{"delete":{"tags":["kafka","messaging"],"summary":"Clear Message History","description":"메시지 히스토리 초기화 (테스트용)","operationId":"clear_message_history_kafka_messages_clear_delete","responses":{"200":{"description":"Successful Response","content":{"application/json":{"schema":{}}}}}}},"/api/kafka/publish":{"post":{"tags":["Kafka","Event"],"summary":"Publish User Action Event","description":"사용자 행동 이벤트를 Kafka로 발행 (샘플)\n- topic: user_actions\n- value: {user_id, action_type, payload}","operationId":"publish_user_action_event_api_kafka_publish_post","requestBody":{"content":{"application/json":{"schema":{"$ref":"#/components/schemas/UserActionEvent"}}},"required":true},"responses":{"200":{"description":"Successful Response","content":{"application/json":{"schema":{}}}},"422":{"description":"Validation Error","content":{"application/json":{"schema":{"$ref":"#/components/schemas/HTTPValidationError"}}}}}}},"/login":{"post":{"tags":["Authentication"],"summary":"Login","description":"사용자 로그인 엔드포인트\n\n- **user_id**: 사용자 ID\n- **password**: 비밀번호\n- 성공 시 JWT 토큰 반환","operationId":"login_login_post","requestBody":{"content":{"application/json":{"schema":{"$ref":"#/components/schemas/UserLogin"}}},"required":true},"responses":{"200":{"description":"Successful Response","content":{"application/json":{"schema":{"$ref":"#/components/schemas/LoginResponse"}}}},"422":{"description":"Validation Error","content":{"application/json":{"schema":{"$ref":"#/components/schemas/HTTPValidationError"}}}}}}},"/health":{"get":{"tags":["System"],"summary":"Health Check","description":"시스템 상태 확인 엔드포인트\n\n- 서버 정상 동작 여부 확인\n- 헬스체크 용도\n- GET 및 HEAD 메서드 모두 지원","operationId":"health_check_health_get","responses":{"200":{"description":"Successful Response","content":{"application/json":{"schema":{}}}}}},"head":{"tags":["System"],"summary":"Health Check","description":"시스템 상태 확인 엔드포인트\n\n- 서버 정상 동작 여부 확인\n- 헬스체크 용도\n- GET 및 HEAD 메서드 모두 지원","operationId":"health_check_health_head","responses":{"200":{"description":"Successful Response","content":{"application/json":{"schema":{}}}}}}}},"components":{"schemas":{"HTTPValidationError":{"properties":{"detail":{"items":{"$ref":"#/components/schemas/ValidationError"},"type":"array","title":"Detail"}},"type":"object","title":"HTTPValidationError"},"LoginResponse":{"properties":{"token":{"type":"string","title":"Token"},"user_id":{"type":"string","title":"User Id"},"message":{"anyOf":[{"type":"string"},{"type":"null"}],"title":"Message"}},"type":"object","required":["token","user_id"],"title":"LoginResponse","description":"로그인 응답 스키마"},"UserActionEvent":{"properties":{"user_id":{"type":"string","title":"User Id"},"action_type":{"type":"string","title":"Action Type"},"payload":{"anyOf":[{"type":"object"},{"type":"null"}],"title":"Payload"}},"type":"object","required":["user_id","action_type"],"title":"UserActionEvent"},"UserLogin":{"properties":{"user_id":{"type":"string","title":"User Id"},"password":{"type":"string","title":"Password"}},"type":"object","required":["user_id","password"],"title":"UserLogin","description":"사용자 로그인 스키마"},"ValidationError":{"properties":{"loc":{"items":{"anyOf":[{"type":"string"},{"type":"integer"}]},"type":"array","title":"Location"},"msg":{"type":"string","title":"Message"},"type":{"type":"string","title":"Error Type"}},"type":"object","required":["loc","msg","type"],"title":"ValidationError"}}}}